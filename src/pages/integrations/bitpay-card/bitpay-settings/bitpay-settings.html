<ion-header>
  <ion-navbar>
    <ion-title>{{'BitPay Settings'|translate}}</ion-title>
  </ion-navbar>
</ion-header>
<ion-content>

  <div
    class="no-cards"
    *ngIf="(bitpayCards && bitpayCards.length == 0) && (bitpayAccounts && bitpayAccounts.length == 0)" translate>
    No cards available
  </div>

  <ion-list>
    <div *ngIf="bitpayCards && bitpayCards.length > 0">
      <ion-item-divider>
        <span translate>BitPay Visa&reg; Cards</span>
      </ion-item-divider>
      <ion-item-sliding *ngFor="let card of bitpayCards" #slidingCard>
        <ion-item>
          <div>
            xxxx-xxxx-xxxx-{{card.lastFourDigits}}
          </div>
          <ion-note>
            {{card.email}}
          </ion-note>
        </ion-item>
        <ion-item-options side="right">
          <button ion-button color="warning" (click)="unlinkCard(card, slidingCard)">
            <ion-icon name="close"></ion-icon>
            <span translate>Unlink</span>
          </button>
        </ion-item-options>
      </ion-item-sliding>
    </div>
    <div *ngIf="bitpayAccounts && bitpayAccounts.length > 0">
      <ion-item-divider>
        <span translate>Accounts</span>
      </ion-item-divider>
      <ion-item-sliding *ngFor="let account of bitpayAccounts" #slidingAccount>
        <ion-item>
          <div>
            {{account.givenName}} {{account.familyName}}
          </div>
          <ion-note>
            {{account.email}}
          </ion-note>
        </ion-item>
        <ion-item-options side="right">
          <button ion-button color="warning" (click)="unlinkAccount(account, slidingAccount)">
            <ion-icon name="close"></ion-icon>
            <span translate>Unlink</span>
          </button>
        </ion-item-options>
      </ion-item-sliding>
    </div>
  </ion-list>
</ion-content>
